<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="logo.png">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clever | Portal</title>
<style>
  * {
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
  }

  body {
    background: #dcdcdc;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .player {
    background: #eee;
    border-radius: 20px;
    padding: 20px 30px;
    width: 550px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
  }

  .header h1 {
    margin: 0;
    font-size: 1.8rem;
    font-weight: 800;
    color: #333;
    background: #fff;
    padding: 5px 15px;
    border-radius: 10px;
    box-shadow: 0 3px 0 #999;
  }

  .search {
    margin: 10px 0;
    display: flex;
    gap: 8px;
  }

  .search input {
    flex: 1;
    border: none;
    border-radius: 8px;
    padding: 10px 15px;
    font-size: 1rem;
    background: #ccc;
    outline: none;
  }

  .search button {
    border: none;
    background: #444;
    color: white;
    border-radius: 8px;
    padding: 10px 15px;
    cursor: pointer;
  }

  .art {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 10px;
  }

  .art img {
    width: 100px;
    height: 100px;
    border-radius: 10px;
    object-fit: cover;
  }

  .song-info h2 {
    margin: 0;
    font-size: 1.4rem;
    color: #222;
  }

  .song-info p {
    margin: 5px 0 0;
    color: #666;
  }

  .controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 18px;
    margin-top: 10px;
  }

  .controls button {
    background: none;
    border: none;
    font-size: 1.3rem;
    cursor: pointer;
    color: #333;
  }

  .seek {
    width: 100%;
    margin-top: 10px;
  }

  input[type="range"] {
    width: 100%;
  }

  .time {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: #555;
  }

  .results {
    margin-top: 20px;
    max-height: 200px;
    overflow-y: auto;
  }

  .result {
    display: flex;
    align-items: center;
    gap: 12px;
    background: #ddd;
    border-radius: 10px;
    padding: 8px;
    margin-bottom: 6px;
    cursor: pointer;
    transition: 0.2s;
  }

  .result:hover {
    background: #ccc;
  }

  .result img {
    width: 50px;
    height: 50px;
    border-radius: 8px;
  }

  .result-info {
    display: flex;
    flex-direction: column;
  }

  .result-info strong {
    color: #222;
  }

  .disclaimer {
    position: fixed;
    bottom: 10px;
    right: 15px;
    color: #777;
    font-size: 0.75rem;
  }
</style>
</head>
<body>
  <div class="player">
    <div class="header"><h1>Music</h1></div>
    <div class="search">
      <input id="searchInput" placeholder="Search for any song...">
      <button id="searchBtn">üîç</button>
    </div>

    <div class="art">
      <img id="art" src="" alt="Album">
      <div class="song-info">
        <h2 id="title">Not Playing</h2>
        <p id="artist">Search for a song</p>
      </div>
    </div>

    <div class="controls">
      <button id="prev">‚èÆÔ∏è</button>
      <button id="play">‚ñ∂Ô∏è</button>
      <button id="next">‚è≠Ô∏è</button>
    </div>

    <div class="seek">
      <input type="range" id="seek" value="0" min="0" max="100">
      <div class="time">
        <span id="current">0:00</span>
        <span id="duration">-0:00</span>
      </div>
    </div>

    <div class="results" id="results"></div>
  </div>

  <div class="disclaimer">¬© 2025 Music Player DSD256 ‚Äî powered by iTunes API</div>

  <audio id="audio"></audio>

<script>
const input = document.getElementById("searchInput");
const btn = document.getElementById("searchBtn");
const results = document.getElementById("results");
const audio = document.getElementById("audio");
const art = document.getElementById("art");
const title = document.getElementById("title");
const artist = document.getElementById("artist");
const playBtn = document.getElementById("play");
const prevBtn = document.getElementById("prev");
const nextBtn = document.getElementById("next");
const seek = document.getElementById("seek");
const cur = document.getElementById("current");
const dur = document.getElementById("duration");

let playlist = [];
let index = 0;
let isPlaying = false;

function formatTime(sec) {
  if (!sec || isNaN(sec)) return "0:00";
  const m = Math.floor(sec / 60);
  const s = Math.floor(sec % 60).toString().padStart(2, "0");
  return `${m}:${s}`;
}

btn.onclick = async () => {
  const query = input.value.trim();
  if (!query) return;
  results.innerHTML = "Searching...";
  const res = await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(query)}&entity=song&limit=20`);
  const data = await res.json();
  playlist = data.results;
  renderResults();
};

function renderResults() {
  results.innerHTML = "";
  playlist.forEach((song, i) => {
    const div = document.createElement("div");
    div.className = "result";
    div.innerHTML = `
      <img src="${song.artworkUrl100}" alt="">
      <div class="result-info">
        <strong>${song.trackName}</strong>
        <span>${song.artistName}</span>
      </div>`;
    div.onclick = () => playSong(i);
    results.appendChild(div);
  });
}

function playSong(i) {
  const song = playlist[i];
  index = i;
  title.textContent = song.trackName;
  artist.textContent = song.artistName;
  art.src = song.artworkUrl100;
  audio.src = song.previewUrl;
  audio.play();
  isPlaying = true;
  playBtn.textContent = "‚è∏Ô∏è";
}

playBtn.onclick = () => {
  if (!audio.src) return;
  if (isPlaying) {
    audio.pause();
    playBtn.textContent = "‚ñ∂Ô∏è";
  } else {
    audio.play();
    playBtn.textContent = "‚è∏Ô∏è";
  }
  isPlaying = !isPlaying;
};

nextBtn.onclick = () => {
  if (playlist.length === 0) return;
  index = (index + 1) % playlist.length;
  playSong(index);
};

prevBtn.onclick = () => {
  if (playlist.length === 0) return;
  index = (index - 1 + playlist.length) % playlist.length;
  playSong(index);
};

audio.ontimeupdate = () => {
  seek.value = (audio.currentTime / audio.duration) * 100 || 0;
  cur.textContent = formatTime(audio.currentTime);
  dur.textContent = `-${formatTime(audio.duration - audio.currentTime)}`;
};

seek.oninput = () => {
  audio.currentTime = (seek.value / 100) * audio.duration;
};
</script>
</body>
</html>
